"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7143],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>u});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},p=Object.keys(e);for(a=0;a<p.length;a++)t=p[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)t=p[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},k=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,p=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=s(t),k=r,u=m["".concat(o,".").concat(k)]||m[k]||c[k]||p;return t?a.createElement(u,i(i({ref:n},d),{},{components:t})):a.createElement(u,i({ref:n},d))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var p=t.length,i=new Array(p);i[0]=k;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l[m]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<p;s++)i[s]=t[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},102:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>p,metadata:()=>l,toc:()=>s});var a=t(7462),r=(t(7294),t(3905));const p={title:"Nest.js\ub294 \uc5b4\ub5bb\uac8c \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud560\uae4c?",slug:"2023/05/01/nest-js\ub294-\uc5b4\ub5bb\uac8c-\uc21c\ud658-\ucc38\uc870-\ubb38\uc81c\ub97c-\ud574\uacb0\ud560\uae4c",description:"Nest.js\uac00 \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",authors:"jake",tags:["nest.js","injector","circular dependency"]},i=void 0,l={permalink:"/2023/05/01/nest-js\ub294-\uc5b4\ub5bb\uac8c-\uc21c\ud658-\ucc38\uc870-\ubb38\uc81c\ub97c-\ud574\uacb0\ud560\uae4c",editUrl:"https://github.com/jbl428/jbl428.github.io/edit/main/blog/2023-05-29-nest-js-circular-dependency/index.mdx",source:"@site/blog/2023-05-29-nest-js-circular-dependency/index.mdx",title:"Nest.js\ub294 \uc5b4\ub5bb\uac8c \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud560\uae4c?",description:"Nest.js\uac00 \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",date:"2023-05-29T00:00:00.000Z",formattedDate:"2023\ub144 5\uc6d4 29\uc77c",tags:[{label:"nest.js",permalink:"/tags/nest-js"},{label:"injector",permalink:"/tags/injector"},{label:"circular dependency",permalink:"/tags/circular-dependency"}],readingTime:23.085,hasTruncateMarker:!0,authors:[{name:"Jake Son",title:"Backend Developer",url:"https://github.com/jbl428",imageURL:"https://avatars.githubusercontent.com/u/22140938?v=4",key:"jake"}],frontMatter:{title:"Nest.js\ub294 \uc5b4\ub5bb\uac8c \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud560\uae4c?",slug:"2023/05/01/nest-js\ub294-\uc5b4\ub5bb\uac8c-\uc21c\ud658-\ucc38\uc870-\ubb38\uc81c\ub97c-\ud574\uacb0\ud560\uae4c",description:"Nest.js\uac00 \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",authors:"jake",tags:["nest.js","injector","circular dependency"]},prevItem:{title:"Kotlin\uc73c\ub85c \ub3c4\uba54\uc778 \ubaa8\ub378\ub9c1\ud558\uae30",permalink:"/kotlin\uc73c\ub85c-\ub3c4\uba54\uc778-\ubaa8\ub378\ub9c1\ud558\uae30"},nextItem:{title:"Nest.js\uc758 injector\ub294 \uc5b4\ub5bb\uac8c \uc0dd\uc131\uc790\uc5d0 \uc9c0\uc815\ud55c \uc758\uc874\uc131 \ub300\uc0c1\uc744 \uc54c\uc544\ub0bc\uae4c?",permalink:"/2023/05/01/nest-js\uc758-injector\ub294-\uc5b4\ub5bb\uac8c-\uc0dd\uc131\uc790\uc5d0-\uc9c0\uc815\ud55c-\uc758\uc874\uc131-\ub300\uc0c1\uc744-\uc54c\uc544\ub0bc\uae4c"}},o={authorsImageUrls:[void 0]},s=[{value:"\uc21c\ud658 \ucc38\uc870 \uc758\uc874\uc131",id:"\uc21c\ud658-\ucc38\uc870-\uc758\uc874\uc131",level:2},{value:"forwardRef",id:"forwardref",level:2},{value:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\ub294 \uc774\uc720",id:"\uc5d0\ub7ec\uac00-\ubc1c\uc0dd\ud558\ub294-\uc774\uc720",level:2},{value:"Node.js\uc758 \uc21c\ud658 \ucc38\uc870",id:"nodejs\uc758-\uc21c\ud658-\ucc38\uc870",level:2},{value:"\uc9c0\uc5f0 \ucc38\uc870",id:"\uc9c0\uc5f0-\ucc38\uc870",level:2},{value:"Injector\uc758 \uc9c0\uc5f0 \ucc38\uc870",id:"injector\uc758-\uc9c0\uc5f0-\ucc38\uc870",level:2},{value:"\uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131",id:"\uc21c\ud658-\ucc38\uc870\ub97c-\uac00\uc9c0\ub294-\ud074\ub798\uc2a4\uc758-\uc778\uc2a4\ud134\uc2a4-\uc0dd\uc131",level:2},{value:"\uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c4 \uc778\uc2a4\ud134\uc2a4\ub07c\ub9ac \uc5f0\uacb0",id:"\uc21c\ud658-\ucc38\uc870\ub97c-\uac00\uc9c4-\uc778\uc2a4\ud134\uc2a4\ub07c\ub9ac-\uc5f0\uacb0",level:2},{value:"\uc694\uc57d",id:"\uc694\uc57d",level:2}],d={toc:s},m="wrapper";function c(e){let{components:n,...t}=e;return(0,r.kt)(m,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\uc774\uc804 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c\ub294 Nest.js\uc758 injector \uad6c\ud604\uc744 \uc0b4\ud3b4\ubcf4\uc558\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","injector\uac00 \ud2b9\uc815 \uc778\uc2a4\ud134\uc2a4\uc758 \uc758\uc874\uc131 \ud0c0\uc785\uc744 \uc54c\uc544\ub0b4\ub294 \ubc29\ubc95\uc5d0 \ub300\ud55c \uae00\uc774\uc5c8\ub294\ub370, \uc774\ubc88\uc5d0\ub294 injector\ub97c \uad6c\ud604\ud558\uba74\uc11c \ubc1c\uc0dd\ud588\ub358 \uc774\uc288\uc5d0 \ub300\ud574 \uc0b4\ud3b4\ubcf4\ub824\uace0 \ud55c\ub2e4."),(0,r.kt)("h2",{id:"\uc21c\ud658-\ucc38\uc870-\uc758\uc874\uc131"},"\uc21c\ud658 \ucc38\uc870 \uc758\uc874\uc131"),(0,r.kt)("p",null,"\uc21c\ud658 \ucc38\uc870\ub780 \ub450 \uac1c \uc774\uc0c1\uc758 \uc694\uc18c\uac00 \ub05d\uc774 \uc5c6\ub294 \uc21c\ud658\uc744 \uc774\ub8e8\ub294 \ucc38\uc870 \uad00\uacc4\ub97c \ub9d0\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc989 A, B \ub450 \uc694\uc18c\uac00 \uc788\uc744 \ub54c A\uac00 B\ub97c \ucc38\uc870\ud558\uace0, B\uac00 A\ub97c \ucc38\uc870\ud558\ub294 \uc0c1\ud669\uc744 \ub9d0\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","Nest.js\uc5d0\uc11c \uc21c\ud658 \ucc38\uc870\ub294 module\uacfc provider \uc0ac\uc774\uc5d0\uc11c \ubc1c\uc0dd\ud55c\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\uc774\ubc88 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c\ub294 provider \uc0ac\uc774\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \uc21c\ud658 \ucc38\uc870\uc5d0 \ub300\ud574 \uc0b4\ud3b4\ubcf4\ub824\uace0 \ud55c\ub2e4.")),(0,r.kt)("p",null,"\ub2e4\uc74c\uacfc \uac19\uc740 \ub450 \uac1c\uc758 provider\uac00 \uc788\ub2e4\uace0 \uac00\uc815\ud574\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="a.service.ts"',title:'"a.service.ts"'},"@Injectable()\nexport class A {\n  constructor(private readonly b: B) {}\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="b.service.ts"',title:'"b.service.ts"'},"@Injectable()\nexport class B {\n  constructor(private readonly a: A) {}\n}\n")),(0,r.kt)("p",null,"\ub450 provider\ub97c \ud558\ub098\uc758 module\uc5d0 \ub4f1\ub85d\ud558\uace0 Nest.js \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc2e4\ud589\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud55c\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'import { A } from "./a.service";\nimport { B } from "./b.service";\n\n@Module({\n  providers: [A, B],\n})\nexport class AppModule {}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"  LOG [InjectorLogger] Nest encountered an undefined dependency. This may be due to a circular import or a missing dependency declaration.\nERROR [ExceptionHandler] Nest can't resolve dependencies of the B (?). Please make sure that the argument dependency at index [0] is available in the AppModule context.\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"AppModule \ud30c\uc77c\uc5d0\uc11c A\uc640 B\uc758 import \uc21c\uc11c\uc5d0 \ub530\ub77c \uc5d0\ub7ec \uba54\uc2dc\uc9c0\uac00 \ub2ec\ub77c\uc9c4\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","A\ub97c \uba3c\uc800 import\ud558\uba74 B\uc5d0 \ub300\ud55c \uc758\uc874\uc131 \uc5d0\ub7ec \uba54\uc2dc\uc9c0\uac00 \ub098\uc624\uace0, B\ub97c \uba3c\uc800 import\ud558\uba74 A\uc5d0 \ub300\ud55c \uc758\uc874\uc131 \uc5d0\ub7ec \uba54\uc2dc\uc9c0\uac00 \ub098\uc628\ub2e4.")),(0,r.kt)("p",null,"\uc704\uc640 \uac19\uc740 \uc21c\ud658 \ucc38\uc870\ub97c \ub9cc\ub4e4\uc9c0 \uc54a\ub294 \uac83\uc774 \uc88b\uc740 \uc124\uacc4\uc774\uc9c0\ub9cc, \ud53c\ud560 \uc218 \uc5c6\ub294 \uacbd\uc6b0\uac00 \uc788\uc744 \uc218 \uc788\uc73c\ubbc0\ub85c Nest.js\ub294 \uc774\ub97c \ud574\uacb0\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc744 \uc81c\uacf5\ud55c\ub2e4."),(0,r.kt)("h2",{id:"forwardref"},"forwardRef"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.nestjs.com/fundamentals/circular-dependency"},"\uacf5\uc2dd\ubb38\uc11c"),"\ub97c \ubcf4\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\ub97c \uc0ac\uc6a9\ud574 \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud560 \uc218 \uc788\ub2e4\uace0 \ub098\uc640\uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@Injectable()\nexport class A {\n  constructor(@Inject(forwardRef(() => B)) private readonly b: B) {}\n}\n\n@Injectable()\nexport class B {\n  constructor(@Inject(forwardRef(() => A)) private readonly a: A) {}\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\uc5d0 \ubb54\uac00 \ud2b9\ubcc4\ud55c \uae30\ub2a5\uc774 \uc788\ub294 \uac83\ucc98\ub7fc \ubcf4\uc774\uc9c0\ub9cc, \uc2e4\uc81c \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uba74 \uad49\uc7a5\ud788 \ub2e8\uc21c\ud55c \ub85c\uc9c1\uc744 \uac00\uc9c0\uace0\uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export interface ForwardReference<T = any> {\n  forwardRef: T;\n}\n\nexport const forwardRef = (fn: () => any): ForwardReference => ({\n  forwardRef: fn,\n});\n")),(0,r.kt)("p",null,"\uc9c0\uae08\uae4c\uc9c0 \uc0b4\ud3b4\ubcf8 \ub0b4\uc6a9\uc744 \ud1b5\ud574 \ub2e4\uc74c\uacfc \uac19\uc740 \uc758\ubb38\uc810\uc774 \uc0dd\uae38 \uc218 \uc788\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forwardRef"),"\ub294 \uc65c \uc778\uc790\ub85c \uc758\uc874\uc131\uc744 \ubc18\ud658\ud558\ub294 \ud568\uc218\ub97c \ubc1b\ub294\uc9c0"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forwardRef"),"\uc758 \uad6c\ud604\uc740 \ub2e8\uc21c\ud55c\ub370, Nest.js\ub294 \uc774\ub97c \uc0ac\uc6a9\ud574 \uc5b4\ub5bb\uac8c \uc21c\ud658 \ucc38\uc870 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\ub294\uac00")),(0,r.kt)("h2",{id:"\uc5d0\ub7ec\uac00-\ubc1c\uc0dd\ud558\ub294-\uc774\uc720"},"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\ub294 \uc774\uc720"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\ub97c \uc0b4\ud3b4\ubcf4\uae30 \uc804\uc5d0 \uc21c\ud658 \ucc38\uc870\uac00 \ubc1c\uc0dd\ud558\uba74 Nest.js\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\ub294\uc9c0 \uc54c\uc544\ubcf4\uc790.",(0,r.kt)("br",{parentName:"p"}),"\n","Nest.js \uc800\uc7a5\uc18c\uc5d0\uc11c \uc5d0\ub7ec \uba54\uc2dc\uc9c0\ub85c \ucd9c\ub825\ub41c ",(0,r.kt)("inlineCode",{parentName:"p"},"This may be due to a circular import"),"\ub97c \uac80\uc0c9\ud574\ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ucf54\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/core/injector/injector.ts"',title:'"packages/core/injector/injector.ts"'},"  public async resolveSingleParam<T>(\n    wrapper: InstanceWrapper<T>,\n    param: Type<any> | string | symbol | any,\n    dependencyContext: InjectorDependencyContext,\n    moduleRef: Module,\n    contextId = STATIC_CONTEXT,\n    inquirer?: InstanceWrapper,\n    keyOrIndex?: symbol | string | number,\n  ) {\n    if (isUndefined(param)) {\n      this.logger.log(\n        'Nest encountered an undefined dependency. This may be due to a circular import or a missing dependency declaration.',\n      );\n      throw new UndefinedDependencyException(\n        wrapper.name,\n        dependencyContext,\n        moduleRef,\n      );\n    }\n    // ...\uc0dd\ub7b5\n  }\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"resolveSingleParam")," \uba54\uc11c\ub4dc\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"parma"),"\uc774 ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\uc778 \uacbd\uc6b0 \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"resolveSingleParam")," \uba54\uc11c\ub4dc\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"wrapper"),"\uc758 \uc0dd\uc131\uc790 \ud30c\ub77c\ubbf8\ud130\ub97c \ud558\ub098\uc529 \uc21c\ud68c\ud558\uba74\uc11c \uc758\uc874\uc131\uc744 \ud574\uacb0\ud558\ub294 \uba54\uc11c\ub4dc\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc5d0\ub7ec \ubc1c\uc0dd \uc2dc\uc810\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"wrapper"),"\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\uc600\uc9c0\ub9cc ",(0,r.kt)("inlineCode",{parentName:"p"},"param"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uac00 \uc544\ub2cc ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\uac00 \uc804\ub2ec\ub418\uc5c8\ub2e4\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4."),(0,r.kt)("p",null,"\uc774\uc804 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c injector\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"design:paramtypes"),"\ub97c \ud1b5\ud574 \uc0dd\uc131\uc790 \ud30c\ub77c\ubbf8\ud130\uc758 \ud0c0\uc785\uc744 \uc54c\uc544\ub0b4\ub294 \uac83\uc744 \uc0b4\ud3b4\ubcf4\uc558\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub530\ub77c\uc11c ",(0,r.kt)("strong",{parentName:"p"},"\uc21c\ud658 \ucc38\uc870\uac00 \ubc1c\uc0dd\ud558\ub294 \uacbd\uc6b0 ",(0,r.kt)("inlineCode",{parentName:"strong"},"B"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"strong"},"design:paramtypes"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"strong"},"undefined"),"\uac00 \ub4e4\uc5b4\uac14\ub2e4\uace0 \uc758\uc2ec"),"\ud574\ubcfc \uc218 \uc788\ub2e4.\n\uc2e4\uc81c\ub85c \uadf8\ub7f0\uc9c0 \ud655\uc778\ud574\ubcf4\uae30 \uc704\ud574 \ub450 \ud074\ub798\uc2a4\uc758 \ud2b8\ub79c\uc2a4\ud30c\uc77c \uacb0\uacfc\ubb3c\uc744 \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},'tsconfig\uc758 "module"\uc744 "commonjs"\ub85c \uc124\uc815\ud558\uc600\uace0 \uc77c\ubd80 \ucf54\ub4dc\ub294 \uc0dd\ub7b5\ud558\uc600\ub2e4.')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="a.service.js"',title:'"a.service.js"'},'exports.A = void 0;\nconst common_1 = require("@nestjs/common");\nconst b_service_1 = require("./b.service");\nlet A = class A {\n  b;\n  constructor(b) {\n    this.b = b;\n  }\n};\nA = __decorate(\n  [\n    (0, common_1.Injectable)(),\n    __metadata("design:paramtypes", [b_service_1.B]),\n  ],\n  A\n);\nexports.A = A;\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="a.service.js"',title:'"a.service.js"'},'exports.B = void 0;\nconst common_1 = require("@nestjs/common");\nconst a_service_1 = require("./a.service");\nlet B = class B {\n  a;\n  constructor(a) {\n    this.a = a;\n  }\n};\nB = __decorate(\n  [\n    (0, common_1.Injectable)(),\n    // \uc62c\ubc14\ub974\uac8c \uc124\uc815\ub41c \uac83\uc774 \uc544\ub2cc\uac78\uae4c?\n    __metadata("design:paramtypes", [a_service_1.A]),\n  ],\n  B\n);\nexports.B = B;\n')),(0,r.kt)("p",null,"\ucf54\ub4dc\ub9cc \ubcf8\ub2e4\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"design:paramtypes"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uac00 \uc62c\ubc14\ub974\uac8c \uc124\uc815\ub418\uc5b4\uc788\ub294 \uac83\ucc98\ub7fc \ubcf4\uc778\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ud558\uc9c0\ub9cc \ub7f0\ud0c0\uc784\uc5d0\uc11c \ud574\ub2f9\uac12\uc744 \ud655\uc778\ud574\ubcf4\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\uac00 \ucd9c\ub825\ub41c\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'console.log(Reflect.getMetadata("design:paramtypes", B.prototype)); // undefined\n')),(0,r.kt)("h2",{id:"nodejs\uc758-\uc21c\ud658-\ucc38\uc870"},"Node.js\uc758 \uc21c\ud658 \ucc38\uc870"),(0,r.kt)("p",null,"\uc704\uc640 \uac19\uc740 \uacb0\uacfc\uac00 \ub098\uc624\ub294 \uc774\uc720\ub294 Node.js\uc758 \ubaa8\ub4c8 \ub85c\ub529 \ubc29\uc2dd \ub54c\ubb38\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","Node.js\ub294 \ub450 \ud30c\uc77c\uac04\uc5d0 \uc11c\ub85c require\ud558\ub294 \uc0c1\ud669\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\ub294 \ub300\uc2e0 \ubb34\ud55c\ub8e8\ud504\uac00 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\ub3c4\ub85d \ud2b9\ubcc4\ud55c \ub3d9\uc791\uc744 \ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc608\ub97c \ub4e4\uba74,\uc55e\uc120 \uc608\uc81c\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"AppModule"),"\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\ub97c \ub97c \uba3c\uc800 import \ud558\uace0 ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\ub97c import\ub294 \uc0c1\ud669\uc5d0\uc11c \ub2e4\uc74c\uacfc \uac19\uc774 \ub3d9\uc791\ud55c\ub2e4."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"a.service.js"),"\ub97c \uc2e4\ud589\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},"\uc911\uac04\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"li"},'require("./b.service")'),"\ub97c \ub9cc\ub098\uace0 \uc2e4\ud589\uc744 \uba48\ucd94\uace0 ",(0,r.kt)("inlineCode",{parentName:"li"},"b.service.js"),"\ub97c \uc2e4\ud589\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"b.service.js"),"\ub97c \uc2e4\ud589\ud558\uba74\uc11c ",(0,r.kt)("inlineCode",{parentName:"li"},'require("./a.service")'),"\ub97c \ub9cc\ub098\uace0 \uc2e4\ud589\uc744 \uba48\ucd94\uace0 ",(0,r.kt)("inlineCode",{parentName:"li"},"a.service.js"),"\ub97c \uc2e4\ud589\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"a.service.js"),"\ub294 \uae30\uc874\uc5d0 \uc774\ubbf8 \uc2e4\ud589 \uc911 \uba48\ucd98 \ud30c\uc77c\uc778\ub370 \uc774 \uacbd\uc6b0 Node.js\ub294 \uc77c\ub2e8 ",(0,r.kt)("inlineCode",{parentName:"li"},"{}"),"\ub97c \ubc18\ud658\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"b.service.js"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"li"},"a_service_1"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"li"},"{}"),"\uac00 \ud560\ub2f9\ub41c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},'__metadata("design:paramtypes", [a_service_1.A])'),"\uc744 \uc2e4\ud589\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"a_service_1.A"),"\ub294 ",(0,r.kt)("inlineCode",{parentName:"li"},"{}"),"\uc774\ubbc0\ub85c ",(0,r.kt)("inlineCode",{parentName:"li"},"design:paramtypes"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"li"},"undefined"),"\uac00 \ud560\ub2f9\ub41c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"b.service.js")," \uc2e4\ud589\uc774 \ub05d\ub098\uace0 ",(0,r.kt)("inlineCode",{parentName:"li"},"a.service.js"),"\ub85c \ub3cc\uc544\uac04\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},'__metadata("design:paramtypes", [b_service_1.B])'),"\uc744 \uc2e4\ud589\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"b_service_1.B"),"\ub294 \uc815\uc0c1\uc801\uc73c\ub85c \ub85c\ub4dc\ub41c \uac12\uc774\ubbc0\ub85c ",(0,r.kt)("inlineCode",{parentName:"li"},"design:paramtypes"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),"\uac00 \ud560\ub2f9\ub41c\ub2e4.")),(0,r.kt)("p",null,"\uc704\uc640 \uac19\uc740 \uc791\uc5c5\uc744 \uc644\ub8cc\ud55c \uc774\ud6c4 \ub9cc\uc57d \ub2e4\ub978 \ud30c\uc77c\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"a.server"),"\uc744 require\ud558\uba74, \uadf8 \ub54c\uc5d0\ub294 \uc815\uc0c1\uc801\uc73c\ub85c \ub85c\ub4dc\ub41c \ubaa8\ub4c8\uc744 \ubc18\ud658\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\ub97c \ud1b5\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"b.service.js"),"\uac00 \uc2e4\ud589\ud55c \uc2dc\uc810\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"a.service.js"),"\uac00 \uc544\uc9c1 \uc644\uc804\ud788 \ub85c\ub4dc\uac00 \ub418\uc9c0 \uc54a\uc558\uae30\uc5d0 \ubc1c\uc0dd\ud558\ub294 \ubb38\uc81c\ub77c\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub610\ud55c ",(0,r.kt)("strong",{parentName:"p"},"import \uc21c\uc11c\uc5d0 \ub530\ub77c ",(0,r.kt)("inlineCode",{parentName:"strong"},"design:paramtypes"),"\uac00 ",(0,r.kt)("inlineCode",{parentName:"strong"},"undefined"),"\uac00 \ub418\ub294 \ud074\ub798\uc2a4\uac00 \ub2ec\ub77c\uc9c4\ub2e4"),"\ub294 \uac83\ub3c4 \uc54c \uc218 \uc788\ub2e4."),(0,r.kt)("h2",{id:"\uc9c0\uc5f0-\ucc38\uc870"},"\uc9c0\uc5f0 \ucc38\uc870"),(0,r.kt)("p",null,"\uc704\uc640 \uac19\uc740 \uc774\uc288\ub294 Node.js\uc758 \ub3d9\uc791\ubc29\uc2dd\uc73c\ub85c \uc778\ud55c\uac83\uc73c\ubbc0\ub85c Nest.js\uac00 \ud574\uacb0\ud560 \uc218 \uc788\ub294 \ubb38\uc81c\ub294 \uc544\ub2c8\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub530\ub77c\uc11c Nest.js\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"design:paramtypes"),"\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc744 \ud655\uc778\ud558\ub294 \ubc29\uc2dd \uc678\uc5d0 \ucd94\uac00\ub85c ",(0,r.kt)("strong",{parentName:"p"},"\uc758\uc874\uc131\uc744 \uc9c0\uc5f0 \ucc38\uc870"),"\ud558\ub294 \ubc29\uc2dd\uc744 \uc81c\uacf5\ud55c\ub2e4."),(0,r.kt)("p",null,"\uc774\ub294 \uc758\uc874\uc131\uc744 Node.js\uac00 \ud30c\uc77c\ub4e4\uc744 \ubaa8\ub450 \ub85c\ub4dc\ud55c \uc774\ud6c4\uc5d0 \uc758\uc874\uc131\uc744 \ucc38\uc870\ud3c9\uac00\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ubcf4\ud1b5 ",(0,r.kt)("strong",{parentName:"p"},"\uc758\uc874\uc131\uc744 \ubc18\ud658\ud558\ub294 \ud568\uc218\ub97c \uc0ac\uc6a9"),"\ud574 \uad6c\ud604\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc989 \uc758\uc874\uc131\uc744 \ubc18\ud658\ud558\ub294 \ud568\uc218 ",(0,r.kt)("inlineCode",{parentName:"p"},"() => A"),"\ub97c \uc120\uc5b8\ud558\uace0 Node.js\uac00 ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\ub97c \ubaa8\ub450 \ub85c\ub4dc\ud55c \uc774\ud6c4\uc5d0 \ud574\ub2f9 \ud568\uc218\ub97c \ud638\ucd9c\ud558\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ubc18\ud658\ub418\ub294 \uac83\uc744 \uc774\uc6a9\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub370\ucf54\ub808\uc774\ud130 \uae30\ubc18 Node.js \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ubcf4\uba74 \uc704\uc640 \uac19\uc740 \ud568\uc218\ud615\ud0dc\ub85c \uc778\uc790\ub97c \ubc1b\ub294 \uacbd\uc6b0\ub97c \uc885\uc885 \ubcfc \uc218 \uc788\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"TypeORM")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@Entity()\nexport class Photo {\n  // User\ub97c \ubc18\ud658\ud558\ub294 \ud568\uc218\ub97c \uc0ac\uc6a9\n  @ManyToOne(() => User, (user) => user.photos)\n  user: User;\n}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"TypeGraphQL")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@ObjectType()\nexport class User {\n  // Post\ub97c \ubc18\ud658\ud558\ub294 \ud568\uc218\ub97c \uc0ac\uc6a9\n  @Field(() => Post)\n  posts: Post;\n}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Class Transformer")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export class Album {\n  // Photo\ub97c \ubc18\ud658\ud558\ub294 \ud568\uc218\ub97c \uc0ac\uc6a9\n  @Type(() => Photo)\n  photos: Photo[];\n}\n")),(0,r.kt)("p",null,"\uc774\ucc98\ub7fc Nest.js\uac00 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\ub97c \uc81c\uacf5\ud558\ub294 \uc774\uc720\ub294 \uc0ac\uc6a9\uc790\uac00 ",(0,r.kt)("strong",{parentName:"p"},"\uc758\uc874\uc131\uc744 \uc9c0\uc815\ud560 \ub54c \ud568\uc218 \ud615\ud0dc\ub85c \uc81c\uacf5\ud558\ub3c4\ub85d \ud0c0\uc785\uc73c\ub85c \uac15\uc81c"),"\ud558\uae30 \uc704\ud568\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub610\ud55c Nest.js\uac00 ",(0,r.kt)("inlineCode",{parentName:"p"},"@Inject"),"\ub85c \uc8fc\uc785\ubc1b\uc740 \uc758\uc874\uc131\uc774 \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294\uc9c0 \uad6c\ubd84\ud558\uae30 \uc704\ud55c \uac12\uc744 \uc138\ud305\ud558\ub824\ub294 \ubaa9\uc801\ub3c4 \uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@Inject(forwardRef(B)) // type error\n")),(0,r.kt)("h2",{id:"injector\uc758-\uc9c0\uc5f0-\ucc38\uc870"},"Injector\uc758 \uc9c0\uc5f0 \ucc38\uc870"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\uac00 \ud568\uc218\ub97c \uc778\uc790\ub85c \ubc1b\ub294 \uc774\uc720\ub97c \uc0b4\ud3b4\ubcf4\uc558\uc73c\ubbc0\ub85c, \uc774\uc81c ",(0,r.kt)("inlineCode",{parentName:"p"},"Injector"),"\uac00 \uc774\ub97c \uc5b4\ub5bb\uac8c \ud65c\uc6a9\ud574 \uc758\uc874\uc131\uc744 \uc9c0\uc5f0 \ucc38\uc870\ud558\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uc790.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc6b0\uc120 \ub2e4\uc74c\uacfc \uac19\uc740 \ucf54\ub4dc\uc5d0\uc11c \uc2dc\uc791\ud574\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@Injectable()\nexport class A {\n  constructor(@Inject(forwardRef(() => B)) private readonly b: B) {}\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\ub294 json\uc744 \ubc18\ud658\ud558\ub294 \uac04\ub2e8\ud55c \ud568\uc218\uc774\ubbc0\ub85c \uc704 \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uc791\uc131\ud574\ub3c4 \ub3d9\uc77c\ud558\uac8c \ub3d9\uc791\ud55c\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@Injectable()\nexport class A {\n  constructor(@Inject({ forwardRef: () => B }) private readonly b: B) {}\n}\n")),(0,r.kt)("p",null,"\uc774\uc81c ",(0,r.kt)("inlineCode",{parentName:"p"},"@Inject")," \ub370\ucf54\ub808\uc774\ud130\uc758 \uad6c\ud604\ubd80\ub97c \uc0b4\ud3b4\ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ucf54\ub4dc\ub97c \ubcfc \uc218 \uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/common/decorators/core/inject.decorator.ts"',title:'"packages/common/decorators/core/inject.decorator.ts"'},'export function Inject<T = any>(token?: T) {\n  return (target: object, key: string | symbol | undefined, index?: number) => {\n    const type = token || Reflect.getMetadata("design:type", target, key);\n\n    // highlight-start\n    if (!isUndefined(index)) {\n      let dependencies =\n        Reflect.getMetadata(SELF_DECLARED_DEPS_METADATA, target) || [];\n\n      dependencies = [...dependencies, { index, param: type }];\n      Reflect.defineMetadata(SELF_DECLARED_DEPS_METADATA, dependencies, target);\n      return;\n    }\n    // highlight-end\n    // ...\uc0dd\ub7b5\n  };\n}\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"@Inject"),"\ub97c \uc0dd\uc131\uc790\uc758 \ud30c\ub77c\ubbf8\ud130\uc5d0 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"index"),"\uac00 \ud30c\ub77c\ubbf8\ud130 \uc704\uce58\ub97c \ub098\ud0c0\ub0b4\ubbc0\ub85c if\ubb38 \uc548\uc758 \ucf54\ub4dc\uac00 \uc2e4\ud589\ub41c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub0b4\ubd80 \ub85c\uc9c1\uc740 target \ud074\ub798\uc2a4\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"SELF_DECLARED_DEPS_METADATA"),"\ub77c\ub294 \uba54\ud0c0\ub370\uc774\ud130\ud0a4\ub97c \uc0ac\uc6a9\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"{ index, param: \uc758\uc874\uc131 }")," \ud615\ud0dc\uc758 \ubc30\uc5f4\uc744 \uc800\uc7a5\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"@Inject"),"\ub294 \uc0dd\uc131\uc790\uc5d0\uc11c \uc5ec\ub7ec \ubc88 \uc0ac\uc6a9\ub420 \uc218 \uc788\uc73c\ubbc0\ub85c \uae30\uc874 \uac12\uc744 \uba3c\uc800 \uac00\uc838\uc640\uc11c \ucd94\uac00\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uad6c\ud604\ub418\uc5b4 \uc788\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\uc640 \ud568\uaed8 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"param"),"\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"{ forwardRef: () => B }"),"\uac00 \ud560\ub2f9\ub41c\ub2e4."),(0,r.kt)("p",null,"\uc774\uc81c \uc774\uc804 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c \ub2e4\ub8ec ",(0,r.kt)("inlineCode",{parentName:"p"},"Injector"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"reflectConstructorParams")," \uba54\uc11c\ub4dc\ub97c \ub2e4\uc2dc \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/core/injector/injector.ts"',title:'"packages/core/injector/injector.ts"'},"  public reflectConstructorParams<T>(type: Type<T>): any[] {\n    const paramtypes = [\n      ...(Reflect.getMetadata(PARAMTYPES_METADATA, type) || []),\n    ];\n    const selfParams = this.reflectSelfParams<T>(type);\n\n    selfParams.forEach(({ index, param }) => (paramtypes[index] = param));\n    return paramtypes;\n  }\n\n  public reflectSelfParams<T>(type: Type<T>): any[] {\n    return Reflect.getMetadata(SELF_DECLARED_DEPS_METADATA, type) || [];\n  }\n")),(0,r.kt)("p",null,"\uba3c\uc800 ",(0,r.kt)("inlineCode",{parentName:"p"},"PARAMTYPES_METADATA(design:paramtypes)"),"\ub97c \ud1b5\ud574 \uc758\uc874\uc131 \ud0c0\uc785\uc744 \ud655\uc778\ud55c \ud6c4, ",(0,r.kt)("inlineCode",{parentName:"p"},"SELF_DECLARED_DEPS_METADATA"),"\ub97c \ud1b5\ud574 \ucd94\uac00\uc801\uc778 \uc758\uc874\uc131\uc744 \ud655\uc778\ud55c\ub2e4."),(0,r.kt)("p",null,"\uc774\ud6c4 ",(0,r.kt)("inlineCode",{parentName:"p"},"reflectConstructorParams"),"\uac00 \ubc18\ud658\ud55c \ubc30\uc5f4\uc758 \uac01 \uc694\uc18c\ub97c \uc21c\ud68c\ud558\uba74\uc11c \uc55e\uc11c \uc18c\uac1c\ud55c ",(0,r.kt)("inlineCode",{parentName:"p"},"resolveSingleParam"),"\uc758 \ub450 \ubc88\uc9f8 \uc778\uc790\ub85c \uc804\ub2ec\ud55c\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/core/injector/injector.ts"',title:'"packages/core/injector/injector.ts"'},"  private resolveSingleParam<T>(\n    wrapper: InstanceWrapper<T>, // \uc758\uc874\uc131 \uc8fc\uc785\uc774 \ud544\uc694\ud55c \ud074\ub798\uc2a4\n    param: Type<any> | string | symbol | any, // \uc8fc\uc785\ubc1b\uc544\uc57c \ud558\ub294 \uc758\uc874\uc131 \uc911 \ud558\ub098\n    // ...\uc0dd\ub7b5\n  ) {\n    const token = this.resolveParamToken(wrapper, param);\n\n    // token\uc744 \ud65c\uc6a9\ud574 \uc758\uc874\uc131\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ubc18\ud658\n    return this.resolveComponentInstance<T>(\n      // ...\uc0dd\ub7b5\n    );\n  }\n\n  public resolveParamToken<T>(\n    wrapper: InstanceWrapper<T>,\n    param: Type<any> | string | symbol | any,\n  ) {\n    // param\uc774 \uc21c\ud658 \ucc38\uc870(forwardRef)\ub85c \uc120\uc5b8\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\n    if (!param.forwardRef) {\n      return param;\n    }\n    // param\uc774 forwardRef\uc778 \uacbd\uc6b0 \ub300\uc0c1 \ud074\ub798\uc2a4\uc758 forwardRef \ud504\ub85c\ud37c\ud2f0\ub97c true\ub85c \uc124\uc815\n    wrapper.forwardRef = true;\n    // \ud568\uc218\ub97c \ud638\ucd9c\ud558\uc5ec \uc758\uc874\uc131 \ud0c0\uc785(token)\uc744 \ubc18\ud658\n    return param.forwardRef();\n  }\n")),(0,r.kt)("p",null,"\uc704 \ucf54\ub4dc\ub97c \ud1b5\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"Injector"),"\uac00 ",(0,r.kt)("strong",{parentName:"p"},"\ud2b9\uc815 \ud074\ub798\uc2a4\uc758 \uc758\uc874\uc131\uc774 \uc21c\ud658 \ucc38\uc870\uc778\uc9c0 \ud655\uc778\ud558\ub294 \uae30\uc900\uc740 \uc624\uc9c1 ",(0,r.kt)("inlineCode",{parentName:"strong"},"forwardRef"),"\ub77c\ub294 key\ub97c \uac00\uc9c0\uace0 \uc788\ub294\uc9c0 \uc5ec\ubd80"),"\ub77c\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub9cc\uc57d ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\ub97c \uc124\uc815\ud588\uc9c0\ub9cc \ud568\uc218\ud615\ud0dc\uac00 \uc544\ub2c8\ub77c\uba74 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud560 \uac83\uc774\ub2e4."),(0,r.kt)("p",null,"\uc704 \ucf54\ub4dc\uc5d0\uc11c \ub3c5\ud2b9\ud55c \uc810\uc740 \uc758\uc874\uc131 \uc911 \ud558\ub098\uac00 \uc21c\ud658 \ucc38\uc870\uc778 \uacbd\uc6b0, \ud574\ub2f9 \ud074\ub798\uc2a4\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef")," \ud504\ub85c\ud37c\ud2f0\ub97c true\ub85c \uc124\uc815\ud55c\ub2e4\ub294 \uac83\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc989 ",(0,r.kt)("strong",{parentName:"p"},"\ub0b4\uac00 \ub204\uad70\uac00\ub97c \uc21c\ud658 \ucc38\uc870\ud558\uace0 \uc788\ub2e4\uba74, \ub204\uad70\uac00 \ub098\ub97c \uc21c\ud658 \ucc38\uc870 \ud558\uace0 \uc788\ub2e4"),"\ub294 \uc758\ubbf8\ub77c\uace0 \ubcfc \uc218 \uc788\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub610\ud55c ",(0,r.kt)("inlineCode",{parentName:"p"},"Injector"),"\ub294 ",(0,r.kt)("strong",{parentName:"p"},"\uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\uc640 \uc21c\ud658 \ucc38\uc870\uac00 \uc5c6\ub294 \uc77c\ubc18 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ub9cc\ub4dc\ub294 \ubc29\uc2dd\uc774 \ub2e4\ub974\uae30\uc5d0")," \uc774\ub97c \uad6c\ubd84\ud558\uae30 \uc704\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef")," \ud504\ub85c\ud37c\ud2f0\ub97c \uc0ac\uc6a9\ud55c\ub2e4."),(0,r.kt)("h2",{id:"\uc21c\ud658-\ucc38\uc870\ub97c-\uac00\uc9c0\ub294-\ud074\ub798\uc2a4\uc758-\uc778\uc2a4\ud134\uc2a4-\uc0dd\uc131"},"\uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131"),(0,r.kt)("p",null,"\uc9c0\uae08\uae4c\uc9c0 \uc54c\uc544\ubcf8 \ub0b4\uc6a9\uc740 \uc21c\ud658\ucc38\uc870\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\uac00 \uc5b4\ub5a4\uac83\uc778\uc9c0 \uc54c\uc544\ub0b4\ub294 \uacfc\uc815\uc774\uc5c8\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\uc81c \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("p",null,"\uc9c0\uae08\uae4c\uc9c0 \uc0b4\ud3b4\ubcf8 \uc608\uc81c\ucf54\ub4dc\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," \ud074\ub798\uc2a4\uac00 \uc11c\ub85c \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\uace0 \uc788\ub2e4\uace0 \uac00\uc815\ud558\uc790.",(0,r.kt)("br",{parentName:"p"}),"\n","\ub450 \ud074\ub798\uc2a4 \uc911 ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub824\uace0 \ud588\uc9c0\ub9cc \ubc14\ub85c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud55c\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A"),"\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub824\uba74 ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),"\uc758 \uc778\uc2a4\ud134\uc2a4\uac00 \ud544\uc694\ud558\ub2e4."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"B"),"\uc758 \uc778\uc2a4\ud134\uc2a4\uac00 \uc544\uc9c1 \uc5c6\uc73c\ubbc0\ub85c \uc0dd\uc131\ud574\uc57c \ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"B"),"\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub824\uba74 ",(0,r.kt)("inlineCode",{parentName:"li"},"A"),"\uc758 \uc778\uc2a4\ud134\uc2a4\uac00 \ud544\uc694\ud558\ub2e4."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A"),"\uc758 \uc778\uc2a4\ud134\uc2a4\uac00 \uc544\uc9c1 \uc5c6\uc73c\ubbc0\ub85c \uc0dd\uc131\ud574\uc57c \ud55c\ub2e4.")),(0,r.kt)("p",null,"\uc704\uc640 \uac19\uc774 \uc11c\ub85c\uac00 \uc11c\ub85c\ub97c \uc0dd\uc131\ud574\uc57c \ud558\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud574 \ub458 \uc911 \ud558\ub098\ub97c \uba3c\uc800 \uc0dd\uc131\ud560 \uc218 \uc5c6\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 Nest.js\uc758 \ub0b4\ubd80 \ud074\ub798\uc2a4 \uc911 \ud558\ub098\uc778 ",(0,r.kt)("inlineCode",{parentName:"p"},"InstanceWrapper"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"createPrototype")," \uba54\uc11c\ub4dc\uac00 \uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/core/injector/instance-wrapper.ts"',title:'"packages/core/injector/instance-wrapper.ts"'},"  public createPrototype(contextId: ContextId) {\n    const host = this.getInstanceByContextId(contextId);\n    if (!this.isNewable() || host.isResolved) {\n      return;\n    }\n    return Object.create(this.metatype.prototype);\n  }\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"InstanceWrapper"),"\ub294 Nest.js\uac00 \ub0b4\ubd80\uc801\uc73c\ub85c \uac01 \uc758\uc874\uc131\uc5d0 \ub300\ud55c \uba54\ud0c0\ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\ub294 \ud074\ub798\uc2a4\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","Nest.js\uac00 \uc2e4\ud589\ub418\uba74 \ubaa8\ub4e0 \uc758\uc874\uc131\uc5d0 \ub300\ud55c ",(0,r.kt)("inlineCode",{parentName:"p"},"InstanceWrapper")," \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131\ub41c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"InstanceWrapper"),"\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"instance")," \ud504\ub85c\ud37c\ud2f0\uac00 \uc788\ub294\ub370, \uc774\ub294 \ud574\ub2f9 \uc758\uc874\uc131\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uac00\ub9ac\ud0a8\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ud574\ub2f9 \ud504\ub85c\ud37c\ud2f0\ub294 \ucd08\uae30\uc5d0 \uc758\uc874\uc131\uc758 \uc720\ud615\uc774 \ud074\ub798\uc2a4\uc778 \uacbd\uc6b0(",(0,r.kt)("inlineCode",{parentName:"p"},"isNewable"),"\uac00 true) ",(0,r.kt)("inlineCode",{parentName:"p"},"createPrototype")," \uba54\uc11c\ub4dc\uc758 \ubc18\ud658\uac12\uc73c\ub85c \uc124\uc815\ub41c\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"createPrototype")," \uba54\uc11c\ub4dc\ub97c \ubcf4\uba74 \ub9c8\uc9c0\ub9c9\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.create"),"\ub97c \ud65c\uc6a9\ud588\ub294\ub370 ",(0,r.kt)("strong",{parentName:"p"},"\ud074\ub798\uc2a4\uc758 \uc0dd\uc131\uc790 \ud638\ucd9c\uc5c6\uc774 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5"),"\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\ub97c \ud1b5\ud574 \uc21c\ud658 \ucc38\uc870\uac00 \uc788\ub294 \uacbd\uc6b0\ub77c\uace0 \ud558\ub354\ub77c\ub3c4 \uc11c\ub85c\uc758 \uc778\uc2a4\ud134\uc2a4 \uc5c6\uc774 \uc790\uc2e0\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ubb3c\ub860 \uc0dd\uc131\uc790\ub97c \ud638\ucd9c\ud558\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc5d0 \ub0b4\ubd80 \ud504\ub85c\ud37c\ud2f0\ub294 \ubaa8\ub450 undefined\uac00 \ub418\uba70 ",(0,r.kt)("inlineCode",{parentName:"p"},"Injector"),"\uac00 \uc774\ud6c4 \ub450 \uc778\uc2a4\ud134\uc2a4\uac04\uc758 \uc5f0\uacb0\uc791\uc5c5\uc744 \uc218\ud589\ud574 \ubb38\uc81c\ub97c \ud574\uacb0\ud55c\ub2e4."),(0,r.kt)("h2",{id:"\uc21c\ud658-\ucc38\uc870\ub97c-\uac00\uc9c4-\uc778\uc2a4\ud134\uc2a4\ub07c\ub9ac-\uc5f0\uacb0"},"\uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c4 \uc778\uc2a4\ud134\uc2a4\ub07c\ub9ac \uc5f0\uacb0"),(0,r.kt)("p",null,"\ub0b4\ubd80 \ud504\ub85c\ud37c\ud2f0\uac00 \uc5c6\ub294 \ube48 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\uc600\uc73c\ub2c8 \uc774\uc81c \ub450 \uc778\uc2a4\ud134\uc2a4\ub97c \uc5f0\uacb0\ud574\uc57c \ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\uc804 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c \uc0b4\ud3b4\ubcf8 ",(0,r.kt)("inlineCode",{parentName:"p"},"loadInstance"),"\ub97c \ub2e4\uc2dc \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"  public async loadInstance<T>(\n    wrapper: InstanceWrapper<T>,\n    collection: Map<InstanceToken, InstanceWrapper>,\n    moduleRef: Module,\n    contextId = STATIC_CONTEXT,\n    inquirer?: InstanceWrapper,\n  )\n")),(0,r.kt)("p",null,"\uc774 \uba54\uc11c\ub4dc\uc758 \uc5ed\ud560\uc740 \uccab \ubc88\uc9f8 \ud30c\ub77c\ubbf8\ud130\uc778 ",(0,r.kt)("inlineCode",{parentName:"p"},"wrapper"),"\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub294 \uac83\uc774\uba70 \uc774\ub97c \uc704\ud574 \ub098\uba38\uc9c0 \uc778\uc790\ub4e4\uc744 \ud65c\uc6a9\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc2e4\uc81c \ub85c\uc9c1\uc740 \ub354 \ubcf5\uc7a1\ud558\uc9c0\ub9cc \uc774\ubc88 \ud3ec\uc2a4\ud2b8 \uc8fc\uc81c\ub85c \ud55c\uc815\ud574\uc11c \uc124\uba85\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ub85c\uc9c1\uc744 \uac00\uc9c0\uace0\uc788\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"wrapper\uac00 \uc774\ubbf8 \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131\ub41c \uc0c1\ud0dc(resolved)\ub77c\uba74 \uc544\ubb34\ub7f0 \uc791\uc5c5\uc744 \ud558\uc9c0 \uc54a\ub294\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"wrapper\uc758 \uc758\uc874\uc131\ub4e4\uc744 \ud30c\uc545\ud55c\ub2e4. \uc758\uc874\uc131 \uc911\uc5d0 \ud558\ub098\ub77c\ub3c4 \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\uace0 \uc788\ub2e4\uba74 wrapper\uc758 ",(0,r.kt)("inlineCode",{parentName:"li"},"forwardRef")," \ud504\ub85c\ud37c\ud2f0\ub97c true\ub85c \uc124\uc815\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"\uac01 \uc758\uc874\uc131\ub4e4\uc744 \uc21c\ud68c\ud558\uba70 \uc758\uc874\uc131\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc5ec\uae30\uc11c \uc758\uc874\uc131\uc758 ",(0,r.kt)("inlineCode",{parentName:"li"},"forwardRef")," \uc5ec\ubd80\uc5d0 \ub530\ub77c \ub2e4\ub974\uac8c \ub3d9\uc791\ud55c\ub2e4.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\uc758\uc874\uc131\uc774 ",(0,r.kt)("inlineCode",{parentName:"li"},"forwardRef"),"\ub97c \uac00\uc9c0\ub294 \uacbd\uc6b0 \uc758\uc874\uc131\uc758 ",(0,r.kt)("inlineCode",{parentName:"li"},"InstanceWrapper"),"\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"\uadf8 \uc678\uc758 \uacbd\uc6b0 ",(0,r.kt)("inlineCode",{parentName:"li"},"loadInstance")," \uba54\uc11c\ub4dc\ub97c \uc7ac\uadc0\ud638\ucd9c\ud574 \uc758\uc874\uc131\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uba3c\uc800 \uc0dd\uc131\ud55c\ub2e4."))),(0,r.kt)("li",{parentName:"ul"},"\uc758\uc874\uc131\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ud65c\uc6a9\ud574 wrapper\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud55c\ub2e4. (instantiateClass \uba54\uc11c\ub4dc)")),(0,r.kt)("p",null,"\uc704 \ub85c\uc9c1\uc5d0\uc11c \ub208\uc5ec\uaca8 \ubcfc \uc810\uc740 wapper\uc758 \uc758\uc874\uc131\uc774 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\ub97c \uac00\uc9c0\ub294 \uacbd\uc6b0 \uc758\uc874\uc131\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"InstanceWrapper"),"\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud55c\ub2e4\ub294 \uc810\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\ub294 \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \uc758\uc874\uc131\uc744 \ub9cc\ub4e4\uae30 \uc704\ud574 \uacc4\uc18d ",(0,r.kt)("inlineCode",{parentName:"p"},"loadInstance")," \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud574 \ubb34\ud55c\ub8e8\ud504\uc5d0 \ube60\uc9c0\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud568\uc774\ub2e4."),(0,r.kt)("p",null,"\ub9c8\uc9c0\ub9c9\uc73c\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"instantiateClass")," \uba54\uc11c\ub4dc\uc5d0\uc11c \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub294 \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"instanceHost.instance = wrapper.forwardRef\n  ? Object.assign(\n      instanceHost.instance,\n      new (metatype as Type<any>)(...instances)\n    )\n  : new (metatype as Type<any>)(...instances);\n")),(0,r.kt)("p",null,"\uc704 \ucf54\ub4dc\uc5d0\uc11c \uac01 \ubcc0\uc218\uc758 \uc758\ubbf8\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"instanceHost.instance"),": Object.create\ub85c \uc0dd\uc131\ud55c wrapper\uc758 \ube48 \uc778\uc2a4\ud134\uc2a4"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"metatype"),": wrapper\uc758 \uc0dd\uc131\uc790"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"instances"),": wrapper\uc758 \uc758\uc874\uc131 \uc778\uc2a4\ud134\uc2a4\ub4e4")),(0,r.kt)("p",null,"\uc704 \ucf54\ub4dc\ub97c \ubcf4\uba74 wapper\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\uac00 true\uc778 \uacbd\uc6b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.assign"),"\uc744 \ud1b5\ud574 \uae30\uc874 \ube48 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc2e0\uaddc \uc778\uc2a4\ud134\uc2a4\ub97c \ubcd1\ud569\ud558\ub294 \uac83\uc744 \ubcfc \uc218 \uc788\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\ub807\uac8c \ud558\ub294 \uc774\uc720\ub294 \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \uacbd\uc6b0 \ub204\uad70\uac00\uac00 ",(0,r.kt)("inlineCode",{parentName:"p"},"instanceHost.instance"),"\ub97c \ucc38\uc870\ud560 \uac00\ub2a5\uc131\uc774 \uc0dd\uae30\uace0 \uc774\ub97c \uc704\ud574 \uae30\uc874 \uc778\uc2a4\ud134\uc2a4\ub97c \uc720\uc9c0\ud574\uc57c \ud558\uae30 \ub54c\ubb38\uc774\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\uc774\ud574\ub97c \ub3d5\uae30\uc704\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.assign"),"\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc73c\uba74 \uc5b4\ub5a4 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("p",null,"A, B \ub450 \ud074\ub798\uc2a4\uac00 \uc788\uace0 \uc11c\ub85c\ub97c \uc758\uc874\uc131\uc73c\ub85c \uac00\uc9c0\ub294 \uc0c1\ud669\uc744 \uac00\uc815\ud558\uc790.",(0,r.kt)("br",{parentName:"p"}),"\n","A\ub294 \uc21c\ud658 \ucc38\uc870\uac00 \uc5c6\ub294 C \ud074\ub798\uc2a4\ub97c \ucd94\uac00\ub85c \uc758\uc874\uc131\uc73c\ub85c \uac00\uc9c0\uace0 \uc788\ub2e4."),(0,r.kt)("p",null,"\ucd08\uae30\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.create"),"\ub97c \ud1b5\ud574 \uac01\uac01 \ube48 \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131\ub41c\ub2e4."),(0,r.kt)("mermaid",{value:"flowchart LR\n  id1(A);\n  id2(B);\n  id3(C);\n  style id1 stroke-dasharray: 5 5\n  style id2 stroke-dasharray: 5 5\n  style id3 stroke-dasharray: 5 5"}),(0,r.kt)("p",null,"\ub9cc\uc57d A\uc5d0 \ub300\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"loadInstance"),"\uac00 \ud638\ucd9c\ub418\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uc0c1\ud0dc\uac00 \ub41c\ub2e4."),(0,r.kt)("mermaid",{value:"flowchart LR\n  id1(A)--\x3eid2(B);\n  id1(A)--\x3eid3(C);\n  style id2 stroke-dasharray: 5 5"}),(0,r.kt)("p",null,"A\uc758 \uc758\uc874\uc131 \uc911 B\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef"),"\uc774\ubbc0\ub85c \ube48 \uc778\uc2a4\ud134\uc2a4\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uace0 C\ub294 \uc21c\ud658 \ucc38\uc870\uac00 \uc5c6\uc73c\ubbc0\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"loadInstance"),"\ub97c \ud638\ucd9c\ud574 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud55c\ub2e4.\n\uadf8\ub798\uc11c A\uc640 C\ub9cc \uc778\uc2a4\ud134\uc2a4\uac00 \ub9cc\ub4e4\uc5b4\uc9c4 \uc0c1\ud0dc\uc774\uace0(resolved) A\ub294 \ube44\uc5b4\uc788\ub294 B\ub97c \ucc38\uc870\ud558\uac8c \ub41c\ub2e4."),(0,r.kt)("p",null,"\uc774\uc81c B\uc5d0 \ub300\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"loadInstance"),"\uac00 \ud638\ucd9c\ub418\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uc0c1\ud0dc\uac00 \ub41c\ub2e4."),(0,r.kt)("mermaid",{value:"flowchart LR\n  id1(A)--\x3eid2(B);\n  id1(A)--\x3eid3(C);\n  id4(B)--\x3eid1(A);\n  style id2 stroke-dasharray: 5 5"}),(0,r.kt)("p",null,"B\uc758 \uc758\uc874\uc131\uc778 A\ub294 \uc774\ubbf8 \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131\ub41c \uc0c1\ud0dc\uc774\ubbc0\ub85c \uc774\ub97c \ud65c\uc6a9\ud574 B\ub97c \uc0dd\uc131\ud55c\ub2e4.",(0,r.kt)("br",{parentName:"p"}),"\n","\ud558\uc9c0\ub9cc B\ub97c \ub9cc\ub4e4 \ub54c A\uac00 \ucc38\uc870\ud558\uace0 \uc788\ub358 B\uc758 \ube48 \uc778\uc2a4\ud134\uc2a4\uac00 \uc544\ub2cc \uc0c8\ub85c\uc6b4 \uacf5\uac04\uc5d0 \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131\ub418\ubbc0\ub85c A\ub294 \uc5ec\uc804\ud788 \ube44\uc5b4\uc788\ub294 B\ub97c \ucc38\uc870\ud558\uac8c \ub41c\ub2e4."),(0,r.kt)("h2",{id:"\uc694\uc57d"},"\uc694\uc57d"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"provider\ub07c\ub9ac \uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\ub294 \uacbd\uc6b0 Nest.js\ub294 ",(0,r.kt)("inlineCode",{parentName:"li"},"forwardRef"),"\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc548\ub0b4\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"\uc21c\ud658 \ucc38\uc870\ub97c \uac00\uc9c0\uba74 ",(0,r.kt)("inlineCode",{parentName:"li"},"design:paramtypes"),"\uc774 \uc81c\ub300\ub85c \uc124\uc815\ub418\uc9c0 \uc54a\ub294 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"\uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 Nest.js\ub294 \uc9c0\uc5f0 \ucc38\uc870\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc758 \ud0c0\uc785\uc744 \ud30c\uc545\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"Injector\ub294 \uc21c\ud658\ucc38\uc870 \uc5ec\ubd80\uc5d0 \ub530\ub77c \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\ub294 \ubc29\uc2dd\uc774 \ub2e4\ub974\ub2e4.")))}c.isMDXComponent=!0}}]);